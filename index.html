<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Atividade 4 </title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/daisyui@latest/dist/full.min.css" rel="stylesheet">
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css">
  <script src="script.js"></script>

</head>
<body class="bg-gray-100 flex justify-center items-start min-h-screen p-6">
    <div class="w-full max-w-md bg-white p-6 rounded-lg shadow-md">
    <div x-data="{currentTab : 1}" >
        <div class="flex justify-between">
            <span class="font-bold text-2xl"> Minhas Tarefas </span>
            <div class="badge bg-pink-200 font-bold text-pink-800" x-text="$store.tasks.items.filter(t => !t.done).length + ' ' + 'pendentes'"> </div>
        </div>
        <form @submit.prevent="$store.tasks.add($refs.task.value); $refs.task.value = ''" >
            <input type="text" x-ref="task" placeholder="Nova Tarefa..." class="bg-gray-200 p-2 rounded text-sm w-80 h-10 ">
            <button type="submit" class="btn bg-pink-600 text-white rounded-lg"> Add </button>
        </form>

        <nav class="flex gap-4 mt-6">
            <button @click=" currentTab = 1" :class="currentTab === 1 ? 'rounded-3xl px-3 font-semibold bg-gray-800 text-white' : 'rounded-3xl px-3 font-semibold bg-gray-200' "> Todas </button>

            <button @click="currentTab = 2 " :class="currentTab === 2 ? 'rounded-3xl px-3 font-semibold bg-gray-800 text-white' : 'rounded-3xl px-3 font-semibold bg-gray-200'" > Pendentes </button>

            <button @click="currentTab = 3" :class="currentTab === 3 ? 'rounded-3xl px-3 font-semibold bg-gray-800 text-white' : 'rounded-3xl px-3 font-semibold bg-gray-200'" >Conclu√≠das </button>
        </nav>


        <div x-show="currentTab === 1">
            <template x-for="item in $store.tasks.items" :key = "item.id">

                <div class="group flex justify-between p-2 border rounded-lg mt-2">
                    <div class="flex gap-2">
                    <input type="checkbox" x-model="item.done" class="checkbox">
                    <span x-text="item.title" :class= "{ 'line-through text-gray-400': item.done}"> </span>
                    </div>
                    <button @click="$store.tasks.remove(item.id)"
                    class="btn btn-sm btn-ghost opacity-0 group-hover:opacity-100 transition-opacity ">
                <i class="fa fa-trash"></i>
            </button>
                </div>
            </template>
        </div>


        <div x-show="currentTab === 2">
            <template x-for="item in $store.tasks.items.filter(t => !t.done)" :key="item.id">
                
                <div class="group flex justify-between p-2 border rounded-lg mt-2">
                    <div class="flex gap-2">
                        <input type="checkbox" x-model="item.done" class="checkbox">
                        <span x-text="item.title"></span>
                    </div>
                    <button @click="$store.tasks.remove(item.id)" class="btn btn-ghost btn-sm opacity-0 group-hover:opacity-100"> <i class="fa fa-trash" aria-hidden="true"></i></button>
                </div>
            </template>
        </div>

        <div x-show="currentTab === 3">
            <template x-for="item in $store.tasks.items.filter(t => t.done)" :key="item.id">
                <div class="flex justify-between group p-2 border rounded-lg mt-2">
                    <div class="flex gap-2"> 
                        <input type="checkbox" x-model="item.done" class="checkbox">
                        <span x-text="item.title" :class="{'line-through text-gray-400' : item.done}"></span>
                    </div>
                   
                    <button @click="$store.tasks.remove(item.id)" class="btn btn-ghost btn-sm opacity-0 group-hover:opacity-100"> <i class="fa fa-trash" aria-hidden="true"></i></button>
                </div>
            </template>
        </div>
    </div>
</div>


</body>
</html>